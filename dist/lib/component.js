/* grapper - 1.0.1 [component] */ (()=>{var un="function",he="undefined",S="object",L="string",W="array",C="number",k="boolean",ln="date",fn="symbol";var H=(t,e)=>typeof t===e,X=(t,e)=>t instanceof e,y=t=>H(t,S),N=t=>H(t,L),f=t=>H(t,un),de=t=>H(t,C)&&!isNaN(t),ot=t=>!Number.isNaN(t),E=t=>H(t,he),pe=t=>H(t,fn),me=t=>H(t,k),I=t=>Array.isArray(t),_t=t=>X(t,Date)&&!isNaN(t),w=t=>t===null,ct=t=>t.replace(/-([a-z0-9])/g,(e,n)=>n.toUpperCase());function hn(t){if(N(t))try{return JSON.parse(`{${t.replace(/^\s*{/,"").replace(/}\s*$/,"").split(/((?:[^;^,"']|"[^"]*"|'[^']*')+)/).filter(e=>!["",";",","].includes(e.trim())).map(e=>e.split(":")).map(e=>`"${e[0].trim()}":${M(e[1].trim(),void 0,!0)}`).join(",")}}`)}catch{try{return M(t)}catch(n){console.error(n);return}}if(y(t))return t}function ye(t){if(N(t))return t.trim().startsWith("[")?(t.match(/\[(.*?)[^\]]]/g)||[]).map(e=>ye(e.substring(1,e.length-1))):t.split(/[,;]/).map(e=>M(e.trim()));if(I(t))return t}function M(t,e,n=!1){if(!N(t))return t;if(t=dn(t.trim()),e===W)return ye(t);if(e===S)return hn(t);if(E(e)||e===C){if(E(t)||t==="")return;let r=+t;if(ot(r)||e===C)return r}if(E(e)||e===k){if(t==="true")return!0;if(t==="false")return!1;if(e===k)return t==="0"?!1:!!t}if(e===ln){try{let r=new Date(t);if(ot(r.getTime()))return r}catch{}return}if(E(e)||e===L)return n?`"${t}"`:t}function dn(t){return t[0]==="'"&&t[t.length-1]==="'"||t[0]==='"'&&t[t.length-1]==='"'?t.substring(1,t.length-1):t}function at(t){return/^\s*{/.test(t)&&/}\s*$/.test(t)}function ut(t){return/^\s*\[/.test(t)&&/]\s*$/.test(t)}function lt(t){let e=[],n=t.split(/(\r\n|\r|\n)/).map(r=>r.trim()).filter(r=>r);return n.length===0?[]:n.length===1?M(n[0]):n.reduce((r,i,o)=>{let c={},s=i.split(/((?:[^;^,"']|"[^"]*"|'[^']*')+)/).filter(a=>!["",";",","].includes(a.trim()));return o===0?(e=[...s.map(a=>M(a))],r):(s.forEach((a,u)=>{c[e[u]]=M(a)}),r.push(c),r)},[])}function J(t){let e=`return (${t});`,n=new Function(e)();return f(n)?n():n}var Ee=new WeakSet,nt=!1,Mt=(t,e)=>!y(t)||w(t)||!f(e)?t:function n(r){if(Ee.has(r))return r;for(let o in r)y(r[o])&&!w(r[o])&&(r[o]=n(r[o]));let i=new Proxy(r,{get(o,c){let s=Reflect.get(r,c);return f(s)&&_t(o)&&N(c)&&c.substring(0,3)==="set"&&f(e)&&(s=function(...a){let u=Reflect.get(o,c).apply(o,a);return!nt&&e(t),u}),_t(o)?s.bind(o):s},set(o,c,s){let a,u=o[c]===s;return y(s)&&!w(s)?a=Reflect.set(o,c,n(s)):a=Reflect.set(o,c,s),!nt&&!u&&e(t),a},deleteProperty(o,c){let s=Reflect.deleteProperty(o,c);return!nt&&e(t),s}});return Ee.add(i),i}(t);Mt.stop=()=>nt=!0;Mt.start=()=>nt=!1;var ft=Mt;var rt=!1,ht=!0;function pn(t){return t===null?null:t.constructor?new t.constructor:{}}function B(t){if(!y(t))return t;let e=t===null?null:Object.assign(pn(t),t);for(let n in e)y(e[n])&&(e[n]=B(e[n]));return e}function ge(t,e){let n=[],r=[];function i(c,s){if(w(c)||w(s))return rt;if(f(c.valueOf)&&f(s.valueOf)&&(c!==c.valueOf()||s!==s.valueOf()))return c.valueOf()===s.valueOf()&&c.constructor===s.constructor;if(n.indexOf(c)>-1&&r.indexOf(s)>-1)return ht;let a=Object.keys(c),u=Object.keys(s);if(a.length!==u.length)return rt;if(a.length>0){n.push(c),r.push(s);let d=a.length;for(;d--;){let h=a[d];if(!o(c[h],s[h]))return rt}}return ht}function o(c,s){if(c===s)return ht;let a=typeof c;return a!==typeof s?rt:a===C&&isNaN(c)&&isNaN(s)?ht:a===S?i(c,s):rt}return o(t,e)}function xe(t,e){let n=t,r=N(e)?e.split("."):e;for(let i=0;i<r.length;i++){if(E(n[r[i]]))return;n=n[r[i]]}return n}function dt(t,...e){if(typeof t!="object"||t===null)throw new TypeError("Target must be a non-null object");return e.forEach(n=>{typeof n!="object"||n===null||Object.keys(n).forEach(r=>{let i=n[r],o=t[r];i&&typeof i=="object"?((!o||typeof o!="object")&&(t[r]=Array.isArray(i)?[]:{}),dt(t[r],i)):t[r]=i})}),t}var Pt=globalThis.GRAPHANE_PREFIX||"g-",g=Symbol(),G=Symbol(),$=Symbol(),It=Object.defineProperty;function mn(t,e,n,r=!1){if(!(t.ready===!1||!e))if(r)n?t.setAttribute(e,""):t.removeAttribute(e);else{let i=w(n)||E(n)?"":n.toString();t.hasAttribute(e)&&t.getAttribute(e)!==i&&t.setAttribute(e,i)}}function yn(t){this[g]={};let e=t;do{let n=pt.get(e);for(let r in n)if(n.hasOwnProperty(r)&&this.hasOwnProperty(r)){let i=this[r];delete this[r],this[r]=E(i)?B(n[r]):i}else r in this[g]||(this[g][r]=B(n[r]));e=Object.getPrototypeOf(e)}while(e!==HTMLElement)}function En(){new MutationObserver(t=>{t.some(e=>!e.attributeName)&&this[$]("update"),(E(this.ready)||this.ready)&&f(this[G])&&this[G](t)}).observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}var pt=new WeakMap,K=class extends HTMLElement{constructor(){super(),yn.call(this,new.target),f(this[G])&&En.call(this)}[$](e,n={},r=!1){return this.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n,composed:r}))}};function gn(t,e){e.propertyName||(e.propertyName=ct(e.name)),Ne(t,{...e,name:e.propertyName,attribute:e.name});let n=Object.getPrototypeOf(t),r="observedAttributes",i=Object.getOwnPropertyDescriptor(t,r),o=Object.getOwnPropertyDescriptor(n,r),c=i?i.get:void 0;It(t,r,Nn(t,e,n,c,i,o));let s="attributeChangedCallback",a=Object.getOwnPropertyDescriptor(t.prototype,s),u=Object.getOwnPropertyDescriptor(n.prototype,s),d=a?a.value:void 0;It(t.prototype,s,xn(e,d,u))}function xn(t,e,n){return{value:function(r,i,o){if(t.name===r){let c=t.propertyName;this[c]!==o&&(t.type===k?this[c]=this.hasAttribute(t.name):this[c]=M(o,t.type))}else e&&e.apply(this,arguments);n?.value&&n.value.apply(this,arguments)},enumerable:!1,writable:!0,configurable:!0}}function Nn(t,e,n,r,i,o){let c={enumerable:!1,configurable:!0};return i?o?c.get=function(){return[e.name,...r.call(t),...o.get.call(n)]}:c.get=function(){return[e.name,...r.call(t)]}:c.get=o?function(){return[e.name,...o.get.call(n)]}:function(){return[e.name]},c}function Ne(t,e){It(t.prototype,e.name,{set:$e(e),get:Sn(e),configurable:!0,enumerable:!1}),pt.has(t)||pt.set(t,{}),pt.get(t)[e.name]=e.value}function $n(t,e){w(t.posUpdateEvent)||(t.posUpdateEvent?this[$](t.posUpdateEvent,{[t.name]:e}):this[$]("update",{[t.name]:e})),f(t.posUpdate)?t.posUpdate.call(this,e):f(this[t.posUpdate])&&this[t.posUpdate]()}function $e(t){return function(e){let n=this[g];f(t.preUpdate)&&!t.preUpdate.call(this,e)||(t.schema&&(ft.stop(),e=t.schema.normalize(e),ft.start()),!(!y(e)&&ge(n[t.name],e))&&(f(t.set)?t.set.call(this,e):n[t.name]=N(e)&&t.type?M(e,t.type):e,t.attribute&&![W,S].includes(t.type)&&mn(this,t.attribute,e,t.type===k),$n.call(this,t,e)))}}function Sn(t){return function(){if(f(t.get))return t.get.call(this);{let e=this[g];switch(t.type){case C:return E(e[t.name])?void 0:Number(e[t.name]);case k:return!!e[t.name];case S:case W:return ft(e[t.name]||(t.type===S?{}:[]),n=>$e(t).call(this,n));default:return e[t.name]}}}}function An(t,e){e=Pt+e.toLowerCase(),customElements.get(e)||customElements.define(e,t)}function Se(t,e={}){return e.prop=(...n)=>(n.forEach(r=>Ne(t,{...r})),e),e.attr=(...n)=>(n.forEach(r=>gn(t,{...r})),e),e.tag=n=>(An(t,n),e),e.extension=e.ext=n=>(n.call(e,e,t),e),e}K.CHANGE=G;K.FIRE_EVENT=$;function Ut(t,e){let n=new WeakMap;return function(...r){clearTimeout(n.get(this)),n.set(this,setTimeout(()=>{t.apply(this,r)},e))}}function Dt(t,e){let n=new WeakMap,r=[];return function(...i){return clearTimeout(n.get(this)),new Promise((o,c)=>{r.push({resolve:o,reject:c}),n.set(this,setTimeout(()=>{try{let s=t.apply(this,i);r.forEach(a=>a.resolve(s))}catch(s){r.forEach(a=>a.reject(s))}finally{r.length=0}},e))})}}function Ft(t,e){return function(...n){if(t.apply(this,n))return e.apply(this,n)}}function Vt(t,e){return function(...n){let r=t.apply(this,n);return f(r.then)?r.then(i=>e.call(this,i)||i):e.call(this,r)||r}}var Ae=1,Ht=Symbol(),Bt=Symbol(),Z=Symbol(),b=Symbol(),Te=Symbol(),kt=Symbol(),we=(t,e)=>t[e]?.forEach(n=>f(n)&&n.apply(t)),R=class extends K{constructor(e){super(),this.attachShadow({mode:"open"}),this[g].ready=e||!1,this[g].rendered=!1,E(e)&&(this.ready=!0)}get ready(){return this[g].ready}set ready(e){let n=this[g],r=n.ready;n.ready=!!e,r===!1&&n.ready===!0&&(this[$]("ready",{ready:!0}),f(this[b])&&this[b]())}get rendered(){return this[g].rendered}set rendered(e){let n=this[g],r=n.rendered;n.rendered=!!e,r===!1&&n.rendered===!0&&this[$]("render",{rendered:!0})}connectedCallback(){let e=this.getBoundingClientRect(),n=getComputedStyle(this).flexDirection,r=()=>{let{width:i,height:o}=this.getBoundingClientRect(),c=getComputedStyle(this).flexDirection;(i!==e.width||o!==e.height||c!==n)&&(f(this[Te])&&this[Te](i,o,i-e.width,o-e.height),e={width:i,height:o},n=c,this[$]("resize",e)),this[g]._resizeObserver=window.requestAnimationFrame(r)};r(),we(this,Ht)}disconnectedCallback(){window.cancelAnimationFrame(this[g]._resizeObserver),we(this,Bt)}};R.prototype[Ht]=[];R.prototype[Bt]=[];function Tn(t,e){let n={name:e.name.startsWith("--")?e.name:`--${Pt}${e.name}`,initialValue:e.initialValue??e.value??"",syntax:e.syntax??"*",inherits:e.inherits??!0};t.prototype[kt]||(t.prototype[kt]={}),t.prototype[kt][n.name]=n}function wn(t){if(f(t.prototype[b])){let e=t.prototype[b];t.prototype[b]=Ft(function(){return this.rendered=!1,this.ready},Dt(Vt(async function(){return e.apply(this)},function(n){this.rendered=n!==!1,this.rendered&&f(this[Z])&&this[Z]()}),Ae))}if(f(t.prototype[Z])){let e=t.prototype[Z];t.prototype[Z]=Ft(function(n){return n&&(this[g].rendered=!0),this.ready&&this[g].rendered},Dt(Vt(async function(...n){return e.apply(this,n)},function(){this[$]("refresh")}),Ae))}}function yt(t){wn(t);let e=Se(t,{style:(...n)=>(n.forEach(r=>Tn(t,{...r})),e)});return e}R.RENDER=b;R.REFRESH=Z;R.ONCONNECT=Ht;R.ONDISCONNECT=Bt;var bn="intersection.enter",Rn="intersection.exit",Et=Symbol();function On(t){let e=r=>this.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!0,composed:!0})),n=!1;this[Et]&&this[Et].disconnect(),this[Et]=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&i.intersectionRatio>=t?n||(n=!0,e(bn)):(n=!1,e(Rn))})},{root:null,rootMargin:"0px",threshold:Array(21).fill(0).map((r,i)=>i*.05)}),this[Et].observe(this._el||this)}var Gt=On;var be=Symbol();function Cn(t){t.attr({name:"intersection-once-class",type:L,value:""}).attr({name:"intersection-class",type:L,value:""}).attr({name:"intersection-ratio",type:C,value:0,posUpdate:Ln})}var Re=(t,e)=>e&&e.split(/\s+/).forEach(n=>t.add(n)),vn=(t,e)=>e&&e.split(/\s+/).forEach(n=>t.remove(n)),Oe=(t,e)=>{e.preventDefault();let n=()=>{t.removeEventListener("render",n),t[$](e.type,e.detail,e.composed)};t.addEventListener("render",n)};function Ln(){let t=this[g];if(this[be])return Gt.call(this,t.intersectionRatio);this[be]=!0;let e=this.classList;this.addEventListener("intersection.enter",n=>{Re(e,t.intersectionOnceClass),Re(e,t.intersectionClass),this.rendered||Oe(this,n)}),this.addEventListener("intersection.exit",n=>{vn(e,t.intersectionClass),this.rendered||Oe(this,n)}),Gt.call(this,t.intersectionRatio)}var Ce=Cn;var Jt="gSVGObject",_n="http://www.w3.org/2000/svg",Mn="svg",zt="d",ve="transform",Me="appendChild",Wt="insertBefore",Le="insertAdjacentElement",Ie="attach",Pe="innerHTML",qt=new WeakMap,Yt=new Set,In=t=>pe(t)||t.startsWith("_")||["el","gSVG","then"].includes(t),Pn=()=>Jt+Math.random().toString(32).substring(2),Kt=t=>y(t)&&!w(t)&&t[Symbol.toStringTag]===Jt,Un=t=>St(document.createElementNS(_n,t)),gt=t=>N(t)?Un(t):y(t)&&t!==null?Kt(t)?t:St(t):t,Dn=t=>({content:Pe,source:"outerHTML",parent:"parentElement",next:"nextElementSibling",previous:"previousElementSibling",add:Me,addBefore:Wt})[t]||t,Fn=t=>["append","before","after",Me,Wt,Le].includes(t)?function(...e){let n=[],r=[],i=[];return t===Le?(n.push(e[0]),r.push(gt(e[1]))):t===Wt?(r.push(gt(e[0])),i.push(e[1]||this.firstChild||null)):r.push(...e.map(gt)),r.every(o=>o?._el)?(this[t](...n,...r.map(o=>o._el),...i),r.forEach(o=>o._el.dispatchEvent(new Event(Ie))),r.length>1?r:r[0]):null}:null,$t=class{constructor(e){this._el=e,this.gSVG=z}get[Symbol.toStringTag](){return Jt}get el(){return this._el}attachTo(e){return(y(e)?Kt(e)?e._el:e:document.querySelector(e)).appendChild(this._el),this._el.dispatchEvent(new Event(Ie)),this}id(e){return e?(this._el.setAttribute("id",e),this):this._el.id||(this._el.id=Pn())}ref(){return`#${this.id()}`}url(){return`url(${this.ref()})`}parents(){let e=[],n=this;for(;n=n.parentElement();)e.push(n);return e}top(){return this.parents().pop()||this}},St=t=>{if(!y(t)||w(t))return null;if(qt.has(t))return qt.get(t);let e=new Proxy(new $t(t),{get(n,r){if(In(r))return n[r];if(!E(n[r]))return(...c)=>(D(e,r,c),n[r].call(e,...c));if([zt,ve,"$"+zt,"$"+ve].includes(r)){let c="";r[0]==="$"&&(r=r.substring(1));let a=r===zt?Vn:kn,u=new Proxy(d=>(D(e,r,[d]),E(d)?t.getAttribute(r):(d?t.setAttribute(r,d):t.removeAttribute(r),e)),{get(d,h){return h in d?Reflect.get(d,h):(...T)=>{if(h===Symbol.toPrimitive){let P=c;return c="",P}return c+=a(e,h,T),t?.setAttribute(r,c),u}}});return u}let i=Dn(r),o=Fn(i)||t[i];return f(o)?(...c)=>{D(e,r,c);let s=o.call(t,...c);return E(s)?e:De(s)}:Ue(t,i,e)}});return qt.set(t,e),e},Ue=(t,e,n,r)=>{let i=e.replace(/_/g,"-"),o=(...c)=>{if(D(n,r?`${r}.${e}`:e,c),c.length===0){let a=t?.hasAttribute&&t.hasAttribute(i)?t.getAttribute(i):t[i];return De(a)}let s=c[0];if(X(t,CSSStyleDeclaration))return t[i]=s,n;if(i in t&&!Yt.has(i)){let a=t[i];if(String(a)===String(s))return n;try{t[i]=s}catch{Yt.add(i)}if(y(t[i])&&t[i]===s||t[i]!==a||i===Pe)return n;Yt.add(i)}return s!==0&&!s?t?.removeAttribute&&t.removeAttribute(i):t?.setAttribute&&t.setAttribute(i,me(s)?"":String(c)),n};return new Proxy(o,{get(c,s){let a=t[i][s];return f(a)?(...u)=>(D(n,`${e}.${s}`,u),a.call(t[i],...u)||n):Ue(t[i],s,n,i)},set(c,s,a){return t[i][s]=a,!0}})},De=t=>X(t,HTMLCollection)||X(t,NodeList)?[...t].map(e=>St(e)):X(t,SVGElement)?St(t):N(t)?t===""||isNaN(t)?t:Number(t):t,Fe=[],D=(t,e,n,r=[])=>{for(let i of Fe)i(z,t,e,n,r)},xt={},Vn=(t,e,n)=>(D(t,`d.${e}`,n,Object.keys(xt).map(r=>`d.${r}`)),xt[e]?xt[e].apply(t,n):`${e}${n.join(",")}`),kn=(t,e,n)=>(D(t,`transform.${e}`,n),`${e}(${n.join(",")})`);function z(t){return D(null,"",[t]),gt(E(t)?Mn:t)}z.isWrapped=Kt;var Nt=t=>e=>f(e)?e(t):Object.assign(t,e),Xt={install:Ve,extendConstructor:Nt(z),extendInstance:Nt($t.prototype),extendPath:Nt(xt),beforeEveryCall(t){f(t)&&Fe.push(t)}};Xt.extendSetup=Nt(Xt);function Ve(t){return t(Xt),z}z.install=Ve;var it=z;var Zt=new Map,Hn=/function\s+([\p{L}\p{Nl}$_][\p{L}\p{Nl}$_\p{Mn}\p{Mc}\p{Nd}\p{Pc}]*)\s*\(/gmu,Bn=async function(){}.constructor;function At(t,e,n=!1){let r=`${t.join(",")} ${e}`;if(Zt.has(r))return Zt.get(r);let i=new(n?Bn:Function)(...t,e);return Zt.set(r,i),i}function ke(t,e){let n=[...e.matchAll(Hn)].map(i=>i[1]);return At(Object.keys(t),`${e}; return {${n.map(i=>`${i}: typeof ${i} === 'function' ? ${i} : undefined`)}}; `)(...Object.values(t))}function Qt(t){try{return new Function(`let ${t} = 0`),!0}catch{return!1}}var jt="animate",Gn="path",He="d",Be="transform",qe="rotate",q="translate",Ge="inherit",ze="finished",zn=[qe,"skewX","skewY"],qn=[q,"width","height","x","y","cx","cy","r","rx","ry","dx","dy"],Yn=(t,e)=>["text","tspan"].includes(t)&&["x","y"].includes(e),te=!1;if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion: reduce)");te=t.matches,t.addEventListener("change",()=>{te=t.matches})}var Wn=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase();function Xn(t,e={duration:200},n=null,r=null){let i=this.gSVG,o=l=>{let p=y(l)?{...l}:{duration:l};return te&&(p.duration=0),p.fill="none",p},c=l=>{l=I(l)?l:[l];let p=window.getComputedStyle(this._el),m=[],x=new Set;for(let v of l){let A={};for(let V in v){let O=ct(V);A[O]=h(v[V],O),!(O in p)||Yn(this.tagName(),O)?x.add(O):O===He?A.d=`${Gn}("${A.d}")`:O===Be&&(A.transform=u(A.transform))}m.push(A)}return a(x,m),m},s=[],a=(l,p)=>{if(l.size){let m=new KeyframeEffect(null,p).getKeyframes();for(let x of l){let v=i(jt).attributeName(x).dur(et.duration+"ms").fill("freeze");if(p.length===1)v.to(p[0][x]);else{let A=[],V=[];for(let O in m){let an=m[O];x in p[O]&&(A.push(an.computedOffset),V.push(p[O][x]))}A[0]!==0&&(A.unshift(0),V.unshift(this[x]()||Ge)),A[A.length-1]!==1&&(A.push(1),V.push(this[x]()||Ge)),v.keyTimes(A.join(";")).values(V.join(";"))}s.push(v),v.attachTo(this),v.beginElementAt(et.delay||0)}}},u=l=>{N(l)&&(l=JSON.parse("{"+l.replace(/\s*\(\s*/g,":[").replace(/\s*\)\s*/g,"],").split(/\s*,\s*|\s.*/).join(",").replace(/(\w+):/g,'"$1":').replace(/,$/,"")+"}"));let p="";for(let m in l)if(m===qe){let x=d(l[m]);x.length>1&&(p+=`${q}(${h(x[1],q)},${h(x[2],q)}) `),p+=`${m}(${h(x[0],m)}) `,x.length>1&&(p+=`${q}(-${h(x[1],q)},-${h(x[2],q)}) `)}else p+=`${m}(${d(l[m]).map(x=>h(x,m)).join(",")}) `;return p},d=l=>I(l)?l:String(l).split(/\s+|,/),h=(l,p)=>zn.includes(p)?l+"deg":qn.includes(p)?l+"px":l,T=l=>N(l)?l.replace(/(deg)|(px)/g,"").trim():l,P=l=>l.replace(/(path\s*\(\s*["'])|(["']\s*\)\s*$)/g,"").trim().replace(/([a-zA-Z])\s*/g,"$1").replace(/\s+/g,","),Lt=l=>{let p=/translate\((.*)px,(.*)px\) rotate\((.*)deg\) translate\((.*)px,(.*)px\)\s+/,m=p.exec(l);return m&&Number(m[1])===Number(m[4])*-1&&Number(m[2])===Number(m[5])*-1?l=l.replace(p,`rotate(${m[3]}, ${m[1]}, ${m[2]})`):l=T(l),l},et=o(e),U=c(t),Y=this._el.animate(U,et);return Y.ready.then(()=>f(n)&&n.call(this,Y)),Y.finished.then(()=>{let l=U[U.length-1];for(let p in l){let m=Wn(p);m.startsWith("text-")?this._el.style[p]=l[p]:p!=="offset"&&p in l&&this._el.setAttribute(m,m===He?P(l[p]):m===Be?Lt(l[p]):T(l[p]))}s.forEach(p=>{p[ze](!0);let m=this._el.querySelectorAll(jt),x=this._el.querySelectorAll(`${jt}[${ze}]`);m.length===x.length&&m.forEach(v=>v.remove())}),f(r)&&r.call(this,Y)}),this}function Jn(t){t.extendInstance({animateTo:Xn})}var Ye=Jn;var wt={},We=Symbol(),Qe=Symbol(),_=Symbol(),Q=Symbol(),Tt=Symbol(),ne=Symbol(),Xe=Symbol(),ee="error",Kn="unknown",Je='an invalid "g-for" expression',Zn="undefined",Qn="NaN (Not a Number)",bt=(t,e)=>new Error(`The expression "${t}" return ${e} value`),Ke="class",Ze="style",jn=(t,e,n)=>{throw new Error(t+` in ${e} `+n)},tr=(t=>e=>t[e]||e)("attributeName attributeType baseFrequency calcMode clipPathUnits diffuseConstant edgeMode gradientTransform gradientUnits kernelMatrix kernelUnitLength lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox xChannelSelector yChannelSelector zoomAndPan".split(" ").reduce((t,e)=>(t[e.toLowerCase()]=e,t),{}));function je(t){if(!t?.el?.parentNode)return null;let e=document.createComment(" ref ");return t.parentNode().insertBefore(e,t.el),t.remove(),e[ne]=t,e}function er(t){let e=t[ne];return t.parentNode.insertBefore(e.el,t),t.remove(),e}j({name:"g-content",exec(t,{expr:e,data:n,evalExpr:r}){let i={...n,$$:{fromURL:async a=>{let u=await fetch(a);if(u.status===200)return u.text();console.warn(`Failed to load URL: ${a} (${u.status})`)},element:t,currentContent:t.content}},o=r(e,i),c=new CustomEvent("load",{bubbles:!0,detail:t}),s=a=>E(a)?"":a;y(o)&&o.then?o.then(a=>{t.content(s(a)),t.dispatchEvent(c)}):(t.content(s(o)),t.dispatchEvent(c))}});j({name:"g-if",exec(t,{expr:e,data:n,evalExpr:r}){if(!r(e,n))return t[_]&&(t[_].forEach(i=>i.remove()),delete t[_]),je(t)}});j({name:"g-bind",alias:":",arg:!0,exec(t,{expr:e,arg:n,data:r,evalExpr:i}){n=tr(n);let o=t._el,c={...r,$$:["d","transform"].includes(n)?t["$"+n]:{}};Object.assign(c.$$,{get element(){return t},get attribute(){return n},currentValue(){return n===Ke?[...o.classList]:n===Ze?[...o.style].reduce((a,u)=>(a[u]=o.style[u],a),{}):t[n]()},dynamic(a,u=200,d=0){return t.animateTo((I(a)?a:[a]).map(h=>y(h)&&"offset"in h?{[n]:h.value,offset:h.offset}:{[n]:h}),{duration:u,delay:d}),Xe}});let s=i(e,c);if(E(s))throw bt(e,Zn);if(n===Ke){let a=h=>t.classList.add(h),u=h=>t.classList.remove(h),d=h=>Object.entries(h).forEach(([T,P])=>P?a(T):u(T));if(I(s)){s.forEach(h=>N(h)?a(h):y(h)?d(h):void 0);return}if(y(s)){d(s);return}s&&a(s);return}if(n===Ze){Object.entries(s).forEach(([a,u])=>t.style[a](u));return}s!==Xe&&t[n](s)}});j({name:"g-on",alias:"@",arg:!0,exec(t,{expr:e,arg:n,data:r,evalExpr:i,error:o,code:c}){t[Tt]=t[Tt]||{};let s=t[Tt][n]=t[Tt][n]||new Map;s.has(e)&&t.removeEventListener(n,s.get(e));let a=function(u){try{let d=i(e,r,t);f(d)&&d.call(t,u)}catch(d){o(d.message,{directive:"g-on",argument:n,expression:e,toString(){return`g-on:${n}="${e}"`}},c)}};t.addEventListener(n,a),s.set(e,a),n==="init"&&!t[We]&&(t[We]=!0,t.dispatchEvent(new Event("init")))}});j({name:"g-for",tmpl:!0,exec(t,{expr:e,data:n,error:r}){t[_]=t[_]||[];let i=t.gSVG(je(t)),o=0;return sr(e,n,c=>{if(t[_][o])st(t[_][o],c,r,!1);else{let s=t.gSVG(t.tagName());s[Q]=t[Q].filter(a=>a.name!=="g-for"),[...t.attributes()].forEach(a=>{a.name!=="g-for"&&s.setAttribute(a.name,a.value)}),t.children().forEach(a=>{s.add(a.cloneNode(!0))}),i.before(s),st(s,c,r),s[Qe]=!0,t[_].push(s)}o++},c=>{for(;t[_].length>c.length;)t[_].pop().remove()}),!0}});function j({name:t,alias:e,arg:n,tmpl:r,exec:i}){let o=`^(${t}${n?":":""}${e?`|${e})`:")"}${n?"(.*)$":"$"}`,c=new RegExp(o,"i");wt[t]={name:t,alias:e,arg:n,tmpl:r,exec:i,check:c}}function nr(t){for(let e in wt){let n=wt[e],r=n.check.exec(t);if(r){let i=r[2];return{...n,arg:i}}}}function rr(t){return t.replace(/[{}()[\]]/g,"").split(",").map(e=>(e.includes(":")?e.split(":")[1].trim():e).trim())}function ir(t,e){return t[Symbol.iterator]?e==="of"?{iterator:[...t],type:W}:{type:ee}:de(t)?{iterator:Array(t<0?0:0|t).fill(0).map((n,r)=>r+(e==="of"?0:1)),type:C}:y(t)?e==="in"?{iterator:Object.entries(t).map(n=>n.reverse()),type:S}:{type:ee}:{iterator:t,type:Kn}}function tn(t,e,n=null){let r=Object.keys(e).filter(Qt),o=At(r,`return ( ${t} ); `).apply(n,r.map(c=>e[c]));if(!ot(o))throw bt(t,Qn);return o}function sr(t,e,n,r){let i="__$$i",o="__$$c",c="__$$f",s=t.match(/^\s*([\s\S]+?)[\s*|)}\]](of|in)[\s*|({[]([\s\S]+?)\s*$/);if(!s)throw bt(t,Je);let[,a,u,d]=s;u=u.trim(),a=a.trim(),d=d.trim();let h=tn(d,e)||[],{iterator:T,type:P}=ir(h,u);if(P===ee)throw bt(t,Je);P===S&&!a.startsWith("[")&&(a=`[${a.replace(/(^\()|(\)$)/g,"")}]`);let Lt=rr(a),et=a.startsWith("(")?a:`(${a})`,U=Object.keys(e).filter(Qt),Y=` ${i}.forEach(${et} => { ${o}({${U}${U.length?",":""}${Lt.join(",")}}); }); ${c}(${i}); `;return At([...U,i,o,c],Y)(...U.map(p=>e[p]),T,n,r)}function st(t,e,n,r=!0){if(r&&t[Qe])return;let i=t.outerHTML();t[Q]=t[Q]||[];let o=t.attributes();for(let s of[...o]){let a=s.name,u=nr(a);u&&(t[Q].push({...u,expr:s.value}),t.removeAttribute(a))}let c=!1;for(let s of t[Q]){c=s.tmpl||c;try{if(s.exec(t,{...s,data:e,evalExpr:tn,error:n,code:i}))return}catch(a){n(a.message,{directive:s.name,argument:s.arg,expression:s.expr,toString(){return`${s.name}${s.arg?":"+s.arg:""}="${s.expr}"`}},i)}}if(!c)for(let s of t.childNodes())s.el[ne]?st(er(s.el),e,n):s.el?.nodeType===1&&st(s,e,n)}function or(t={},e=jn){st(this,t,e),this.dispatchEvent(new Event("render"))}function cr(){return this.outerHTML().replaceAll("<!-- ref -->","")}function ar(t){t.install(Ye),t.extendInstance({render:or,source:cr}),t.extendSetup({extendTemplate:{defineDirective:j,getDirective(e){return wt[e]}}})}var en=ar;var nn=t=>Math.round(t*1e4)/1e4;function re(t){return(t-90)*Math.PI/180}function Rt(t,e,n,r){let i=re(r);return{x:nn(t+n*Math.cos(i)),y:nn(e+n*Math.sin(i))}}function Ot(t,e,n,r,i=0){i=Math.abs(i)>=360?i%360:i,r=Math.abs(r)>360?r%360:r,r=Math.abs(r)===360?r>0?359.9:-359.9:r;let o=i+r,c=r>0?1:0,s=Math.abs(o-i)<=180?0:1,a=i<0?(360+i)%360:i,u=o<0?(360+o)%360:o,d=Rt(t,e,n,a),h=Rt(t,e,n,u);return`M${d.x},${d.y}A${n},${n},0,${s},${c},${h.x},${h.y}`}function ur(t,e,n,r,i,o=0){let c=Ot(t,e,n+r/2,i,o),s=Ot(t,e,n-r/2,-i,o+i);return c+"L"+s.substring(1)+"Z"}function lr(t,e,n,r,i=0){return`${Ot(t,e,n,r,i)}L${t},${e}Z`}function fr(t){t.extendConstructor({polar2cartesian:Rt,degrees2radians:re}),t.extendComposer&&t.extendComposer({polar2cartesian:Rt,degrees2radians:re}),t.extendPath({arc:Ot,barArc:ur,circleSlice:lr})}var rn=fr;var se=Symbol(),ie=Symbol(),sn=(t,e,n)=>Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n}),hr=(t,e)=>e===se?t:xe(t,e);function oe(t={}){if(!y(t))return t;let e={};function n(r,i,o,c){r in t||(e[r]||(e[r]={}),sn(t,r,(s=void 0,a=se)=>{if(N(s)||E(s)){if(a=s||se,a in e[r])return e[r][a];s=t}let u=s.reduce((d,h)=>{let T=hr(h,a);return E(T)?d:d===ie?T:o(d,T)},f(i)?i():i);return u=f(c)?c(u):u,t!==s&&(e[r][a]=u),u===i?0:u}),sn(t,r+"Before",(s,a)=>t[r](t.slice(0,s),a)))}return n("$min",ie,(r,i)=>i>r?r:i),n("$max",ie,(r,i)=>i<r?r:i),n("$count",0,r=>r+1),n("$sum",0,(r,i)=>i+r),n("$avg",()=>({n:0,i:0}),(r,i)=>(r.n++,r.i+=Number(i),r),r=>isNaN(r.i/r.n)?0:r.i/r.n),n("$distinct",()=>new Set,(r,i)=>(r.add(i),r),r=>[...r]),t}var dr="rapper",ce="update",tt="svg",ae="methods",ue="config",le="data",Ct="-src",on=t=>`script[type=${t}],g-script[type=${t}]`,cn=["0px","auto"],pr=t=>{let e=getComputedStyle(t.el);return cn.includes(e.width)&&cn.includes(e.height)},F=class extends R{static install(e){it.install(e)}#e=null;#r=!1;#i=!1;#t=[];#n=[];#h=Ut(function(e,n){this[$](e,n)},1);#s(e,n,r,i){let o={message:e,scope:n,code:r,toString:()=>`${e}${n?` in ${n}`:""} ${r}`};i.push(o),console.warn(`Graphane Composer - Error: ${o}`),this.#h.call(this,"error",this.errors)}#d(e){return e.length=0,(n,r="",i="")=>this.#s(n,r,i,this.#t)}async#c(e){let n=await fetch(e);if(n.status!==200)throw new Error(`${n.statusText} (${n.status}): ${n.url}`);return n.text()}async#p(){let e=[...this.querySelectorAll(on("plugin"))];for(let n of e){let r=n.getAttribute("src");if(r){let i=new URL(r,document.location.href);try{let o=await import(i.href);o?.default&&it.install(o.default)}catch(o){this.#s(o.message,"plugin",r,this.#n)}}}}async#a(){let e=this[g];if(this.#e=null,e.content.innerHTML="",e.svgSrc)try{e.content.innerHTML=await this.#c(e.svgSrc)}catch(r){this.#s(r.message,tt,e.svgSrc,this.#n)}else{let r=this.querySelector("template")?.content||this.querySelector(tt);r&&e.content.append(r.cloneNode(!0))}let n=e.content.querySelector(tt);return this.#e=n?it(n):null,!0}async#o(e,n){let r=this[g],i=e+"Src",o=this.querySelector(on(e));o&&(r[i]=o.getAttribute("src"));let c=r[i]?await this.#c(r[i]).catch(s=>this.#s(s.message,e,r[i],this.#n)):o?.textContent;if(c)try{r[e]=n(c)}catch(s){this.#s(s.message,e,c,this.#n)}}#u(){return this.#o(ae,e=>ke({$:this},e))}#l(){return this.#o(ue,J)}#f(){return this.#o(le,e=>at(e)||ut(e)?J(e):lt(e))}constructor(){super();let e=this[g];this.shadowRoot.innerHTML=` <style> :host { display : inline-block; width : max-content; height : max-content; } </style><span></span>`,e.content=this.shadowRoot.querySelector("span")}[b](){return!this.load()}async[G](e){let n=[];for(let r of e){let i=r.target;if(i===this&&!r.attributeName)return this.load();if(i.tagName.toLowerCase()===tt)n.push(this.#a());else if(i.tagName==="SCRIPT"){let o={data:this.#f,methods:this.#u,config:this.#l}[i.type.toLowerCase()];o&&n.push(o())}}if(n.length)return await Promise.all(n),this.update()}async load(){return this.#r=!1,this.#n=[],await this.#p(),await Promise.all([this.#a(),this.#l(),this.#u(),this.#f()]),this.#r=!0,this[$]("load"),this.update(!0)}async update(e=!1){if(!(this.#i&&!e)&&this.#e){this.rendered=!1,this.#i=!0;let n=this[g],r=n.methods?.data?n.methods.data(oe(B(n.data))):oe(B(n.data)),i={...n.methods,...I(r)?{}:r,data:r,$:this};await this.#e.render(i,this.#d(this.#t)),pr(this.#e)&&this.#e.width("100%").height("100%"),this.#i=!1,this.rendered=!0}}get[tt](){return this.#e}get loaded(){return this.#r}get errors(){return[...this.#n,...this.#t]}get version(){return"1.0.1"}};F.prototype.update=Ut(F.prototype.update,1);yt(F).ext(Ce).attr({name:tt+Ct,type:L,value:"",posUpdate:b}).attr({name:le,type:S,value:[],posUpdate:ce}).attr({name:le+Ct,type:L,posUpdate:b}).prop({name:ae,type:S,value:{},posUpdate:ce}).attr({name:ae+Ct,type:L,posUpdate:b}).attr({name:ue,type:S,value:{},posUpdate:ce}).attr({name:ue+Ct,type:L,posUpdate:b}).attr({name:"value",set(t){this.data={value:t}},get(){return this.data?.value}}).tag(dr);var mr=t=>{t.extendSetup({extendComposer(e){f(e)?e(F.prototype):Object.assign(F.prototype,e)}})};it.install(mr).install(en).install(rn);var vt=class extends R{constructor(){super(),this.shadowRoot.addEventListener("load",e=>{this[$]("load",{...e.detail,data:this.data,config:this.config})}),this.shadowRoot.addEventListener("update",e=>{this[$]("update",{...e.detail,data:this.data,config:this.config})}),this.shadowRoot.addEventListener("render",e=>{this[$]("render",{...e.detail,data:this.data,config:this.config})}),this.#r(),this.#i()}async#e(e){let n=await fetch(e);if(n.status!==200)throw new Error(`${n.statusText} (${n.status}): ${n.url}`);return n.text()}async#r(){let e=this.querySelector("script[type=data],g-script[type=data]"),n=e?.getAttribute("src")||this.getAttribute("data-src"),r=n?await this.#e(n):e?.textContent;r&&(this.data=at(r)||ut(r)?J(r):lt(r))}async#i(){let e=this.querySelector("script[type=config],g-script[type=config]"),n=e?.getAttribute("src")||this.getAttribute("config-src"),r=n?await this.#e(n):e?.textContent;r&&(this.config=J(r))}get#t(){return this.shadowRoot.querySelector("g-rapper")}set data(e){if(this.#t?.loaded)this.#t.data=e;else{let n=()=>{this.#t.data=e,this.removeEventListener("load",n)};this.addEventListener("load",n)}}get data(){return this.#t.data}set config(e){if(this.#t?.loaded)dt(this.#t.config,e);else{let n=()=>{dt(this.#t.config,e),this.removeEventListener("load",n)};this.addEventListener("load",n)}}get config(){return this.#t.config}get loaded(){return this.#t.loaded}};yt(vt).attr({name:"value",set(t){this.data={value:t}},get(){return this.data?.value}});function fe(t,e){let n=customElements.get(t);return n||(n=class extends vt{constructor(){super(),this.shadowRoot.innerHTML=` <style> :host { display : inline-block; width : max-content; height : max-content; } g-rapper { width : auto; height : auto; } </style> ${e} `}},customElements.define(t,n)),n}(typeof gobalThis<"u"?globalThis:window).defineComponent=fe;})();