/* grapper - 1.1.0-beta.3 [module:gsvg] */ var W="function",q="undefined",v="object",Q="string";var Z="boolean";var K="symbol";var h=(t,n)=>typeof t===n,x=(t,n)=>t instanceof n,b=t=>h(t,v),y=t=>h(t,Q),S=t=>h(t,W);var $=t=>h(t,q),D=t=>h(t,K),I=t=>h(t,Z);var T=t=>t===null;var L="gSVGObject",tt="http://www.w3.org/2000/svg",nt="svg",O="d",m="transform",F="appendChild",j="insertBefore",P="insertAdjacentElement",G="attach",H="innerHTML",C=new WeakMap,M=new Set,rt=t=>D(t)||t.startsWith("_")||["el","gSVG","then"].includes(t),et=()=>L+Math.random().toString(32).substring(2),R=t=>b(t)&&!T(t)&&t[Symbol.toStringTag]===L,it=t=>p(document.createElementNS(tt,t)),E=t=>y(t)?it(t):b(t)&&t!==null?R(t)?t:p(t):t,ot=t=>({content:H,source:"outerHTML",parent:"parentElement",next:"nextElementSibling",previous:"previousElementSibling",add:F,addBefore:j})[t]||t,st=t=>["append","before","after",F,j,P].includes(t)?function(...n){let i=[],r=[],e=[];return t===P?(i.push(n[0]),r.push(E(n[1]))):t===j?(r.push(E(n[0])),e.push(n[1]||this.firstChild||null)):r.push(...n.map(E)),r.every(u=>u?._el)?(this[t](...i,...r.map(u=>u._el),...e),r.forEach(u=>u._el.dispatchEvent(new Event(G))),r.length>1?r:r[0]):null}:null,_=class{constructor(n){this._el=n,this.gSVG=d}get[Symbol.toStringTag](){return L}get el(){return this._el}attachTo(n){return(b(n)?R(n)?n._el:n:document.querySelector(n)).appendChild(this._el),this._el.dispatchEvent(new Event(G)),this}id(n){return n?(this._el.setAttribute("id",n),this):this._el.id||(this._el.id=et())}ref(){return`#${this.id()}`}url(){return`url(${this.ref()})`}parents(){let n=[],i=this;for(;i=i.parentElement();)n.push(i);return n}top(){return this.parents().pop()||this}},p=t=>{if(!b(t)||T(t))return null;if(C.has(t))return C.get(t);let n=new Proxy(new _(t),{get(i,r){if(rt(r))return i[r];if(!$(i[r]))return(...o)=>(f(n,r,o),i[r].call(n,...o));if([O,m,"$"+O,"$"+m].includes(r)){let o="";r[0]==="$"&&(r=r.substring(1));let c=r===O?ct:ut,a=new Proxy(l=>(f(n,r,[l]),$(l)?t.getAttribute(r):(l?t.setAttribute(r,l):t.removeAttribute(r),n)),{get(l,N){return N in l?Reflect.get(l,N):(...J)=>{if(N===Symbol.toPrimitive){let z=o;return o="",z}return o+=c(n,N,J),t?.setAttribute(r,o),a}}});return a}let e=ot(r),u=st(e)||t[e];return S(u)?(...o)=>{f(n,r,o);let s=u.call(t,...o);return $(s)?n:k(s)}:V(t,e,n)}});return C.set(t,n),n},V=(t,n,i,r)=>{let e=n.replace(/_/g,"-"),u=(...o)=>{if(f(i,r?`${r}.${n}`:n,o),o.length===0){let c=t?.hasAttribute&&t.hasAttribute(e)?t.getAttribute(e):t[e];return k(c)}let s=o[0];if(x(t,CSSStyleDeclaration))return t[e]=s,i;if(e in t&&!M.has(e)){let c=t[e];if(String(c)===String(s))return i;try{t[e]=s}catch{M.add(e)}if(b(t[e])&&t[e]===s||t[e]!==c||e===H)return i;M.add(e)}return s!==0&&!s?t?.removeAttribute&&t.removeAttribute(e):t?.setAttribute&&t.setAttribute(e,I(s)?"":String(o)),i};return new Proxy(u,{get(o,s){let c=t[e][s];return S(c)?(...a)=>(f(i,`${n}.${s}`,a),c.call(t[e],...a)||i):V(t[e],s,i,e)},set(o,s,c){return t[e][s]=c,!0}})},k=t=>x(t,HTMLCollection)||x(t,NodeList)?[...t].map(n=>p(n)):x(t,SVGElement)?p(t):y(t)?t===""||isNaN(t)?t:Number(t):t,U=[],f=(t,n,i,r=[])=>{for(let e of U)e(d,t,n,i,r)},g={},ct=(t,n,i)=>(f(t,`d.${n}`,i,Object.keys(g).map(r=>`d.${r}`)),g[n]?g[n].apply(t,i):`${n}${i.join(",")}`),ut=(t,n,i)=>(f(t,`transform.${n}`,i),`${n}(${i.join(",")})`);function d(t){return f(null,"",[t]),E($(t)?nt:t)}d.isWrapped=R;var A=t=>n=>S(n)?n(t):Object.assign(t,n),w={install:Y,extendConstructor:A(d),extendInstance:A(_.prototype),extendPath:A(g),beforeEveryCall(t){S(t)&&U.push(t)}};w.extendSetup=A(w);function Y(t){return t(w),d}d.install=Y;var dt=d;export{dt as default,d as gSVG};